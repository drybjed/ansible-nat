## nat

[![Travis CI](https://secure.travis-ci.org/debops/ansible-nat.png)](http://travis-ci.org/debops/ansible-nat) [![test-suite](http://img.shields.io/badge/test--suite-ansible--nat-blue.svg)](https://github.com/debops/test-suite/tree/master/ansible-nat/) [![Ansible Galaxy](http://img.shields.io/badge/galaxy-debops.nat-660198.svg)](https://galaxy.ansible.com/list#/roles/1578) [![Platforms](http://img.shields.io/badge/platforms-debian%20|%20ubuntu-lightgrey.svg)](#)

`debops.nat` is a helper role which configures internal network on
a separate bridge interface with NAT or MASQUERADE firewall configuration
(network will use non-routable IP address space and access to the Internet
will be provided by the host operating system). This network can be used as
a development environment for virtual machines or containers.

Configuration of iptables firewall / forwarding and network interfaces will
be performed by `debops.ferm` and `debops.interfaces` Ansible roles.

You can use `dnsmasq` server (available via `debops.dnsmasq` Ansible role)
to complete the network configuration and provide internal DNS/DHCP server.


### Installation

This role requires at least Ansible `v1.7.0`. To install it, run:

    ansible-galaxy install debops.nat



### Role dependencies

- `debops.ifupdown`
- `debops.ferm`



### Role variables

List of default variables available in the inventory:

    ---
    
    # 192.168.x.0/24 subnet to use by default for NAT
    nat_subnet: 32
    
    # Network interface to use for NAT bridge
    nat_interface: 'br2'
    
    # Network configuration
    nat_address: '192.168.{{ nat_subnet }}.1'
    nat_netmask: '255.255.255.0'
    nat_network: '192.168.{{ nat_subnet }}.0'
    nat_broadcast: '192.168.{{ nat_subnet }}.255'
    
    # Should iptables use masquerading?
    # True - static IP route to outside network
    # False - dynamic masquerading
    nat_masquerade: False
    
    # Default NAT domain
    nat_subdomain: 'nat'
    nat_domain: '{{ nat_subdomain }}.{{ ansible_fqdn }}'




### Authors and license

`nat` role was written by:

- Maciej Delmanowski | [e-mail](mailto:drybjed@gmail.com) | [Twitter](https://twitter.com/drybjed) | [GitHub](https://github.com/drybjed)

License: [GPLv3](https://tldrlegal.com/license/gnu-general-public-license-v3-(gpl-3))

***

This role is part of the [DebOps](http://debops.org/) project. README generated by [ansigenome](https://github.com/nickjj/ansigenome/).
